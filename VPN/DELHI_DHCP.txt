Delhi:
en
conf t
host Delhi
int g0/0
ip add 14.1.1.1 255.255.255.0
no sh
!
int g0/1
ip add 10.5.5.10 255.255.255.0
no sh
!
!!!!!! DHCP !!!!!!
ip dhcp pool Delhi_Pool
!
network 10.5.5.0 255.255.255.0
default-router 10.5.5.10
dns-server 8.8.8.8
domain-name dcisco.com
exit
!
ip dhcp excluded-address 10.5.5.1 10.5.5.10



RogueDhcp:
en
conf t
host RogueDhcp
int g0/0
ip add 10.5.5.2 255.255.255.0
no sh
!
!!!!!! DHCP !!!!!!
ip dhcp pool Delhi_Pool
!
network 10.5.5.0 255.255.255.0
default-router 10.5.5.2
dns-server 8.8.8.8
domain-name dcisco.com
exit
!
ip dhcp excluded-address 10.5.5.1 10.5.5.10


D-Switch:
en
conf t
hostname D-switch

! Enable DHCP snooping globally
ip dhcp snooping

! Enable it for VLAN 1 (used by all ports)
ip dhcp snooping vlan 1

! Trust only the port connected to the legitimate DHCP server (Delhi)
interface gi0/0
 description Uplink to Delhi Router
 ip dhcp snooping trust

! All other ports are untrusted (default)
interface range gi0/1 - 3
 description Client or rogue DHCP connections
 switchport mode access
 switchport access vlan 1

!!!!!! MGRE TUNNEL !!!!!!
int tunnel 0
ip add 192.168.1.4 255.255.255.0
tunnel source 14.1.1.1
tunnel mode gre multipoint
no sh
!
!!!!! 
ip nhrp network-id 10
ip nhrp map 192.168.1.1 11.1.1.1
ip nhrp map 192.168.1.2 12.1.1.1
ip nhrp map 192.168.1.3 13.1.1.1
!
!!!tried using static route
ip route 0.0.0.0 0.0.0.0 14.1.1.10
ip route 10.1.1.0 255.255.255.0 tun0 192.168.1.1
ip route 10.2.2.0 255.255.255.0 tun0 192.168.1.1
ip route 10.3.3.0 255.255.255.0 tun0 192.168.1.2
ip route 10.4.4.0 255.255.255.0 tun0 192.168.1.3
!!
!!!!tried using Dynamic route
router eigrp 10
network 192.168.1.0 
network 14.1.1.0
!
!
crypto isakmp policy 10
hash sha256
auth pre
group 14
encr aes
lifetime 86400
!
crypto isakmp key 0 cisco  address 0.0.0.0
!
crypto ipsec transform-set TSET ah-sha-hmac

mode transport
!
crypto ipsec profile VPN_PROFILE
set transform-set TSET
!
int tunnel 0
tunnel protection ipsec profile VPN_PROFILE